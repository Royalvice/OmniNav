# Go2 Quadruped Robot Configuration
# @package _group_

type: unitree_go2
name: go2

# URDF source (genesis_builtin / project)
urdf_source: genesis_builtin
urdf_path: "urdf/go2/urdf/go2.urdf"

# Initial pose (standing position)
initial_pos: [0.0, 0.0, 0.4]
initial_quat: [1.0, 0.0, 0.0, 0.0]  # [w, x, y, z]

# Default joint positions (standing pose matching Genesis go2_env.py)
default_dof_pos:
  FL_hip_joint: 0.0
  FL_thigh_joint: 0.8
  FL_calf_joint: -1.5
  FR_hip_joint: 0.0
  FR_thigh_joint: 0.8
  FR_calf_joint: -1.5
  RL_hip_joint: 0.0
  RL_thigh_joint: 1.0
  RL_calf_joint: -1.5
  RR_hip_joint: 0.0
  RR_thigh_joint: 1.0
  RR_calf_joint: -1.5

# CRITICAL: URDF Joint Order Documentation
# Genesis URDF joint order is DIFFERENT from logical leg-by-leg order!
# This is the ACTUAL order in robot.joints[1:] (verified 2024-02-04):
#
# URDF Order (for set_qpos):
#   [0-3]:   FL_hip, FR_hip, RL_hip, RR_hip      (all hips)
#   [4-7]:   FL_thigh, FR_thigh, RL_thigh, RR_thigh  (all thighs)
#   [8-11]:  FL_calf, FR_calf, RL_calf, RR_calf     (all calfs)
#
# Control Order (JOINT_NAMES, for control_dofs_position):
#   [0-2]:   FL_hip, FL_thigh, FL_calf    (FL leg)
#   [3-5]:   FR_hip, FR_thigh, FR_calf    (FR leg)
#   [6-8]:   RL_hip, RL_thigh, RL_calf    (RL leg)
#   [9-11]:  RR_hip, RR_thigh, RR_calf    (RR leg)
#
# IMPORTANT: 
# - Use robot.default_dof_pos_urdf for set_qpos (URDF order)
# - Use robot.default_dof_pos for control_dofs_position (JOINT_NAMES order)
# - Kinematic controllers using set_qpos MUST use URDF order!
#
# Joint Index Mapping (URDF order):
#   For leg_idx in [0=FL, 1=FR, 2=RL, 3=RR]:
#     hip_idx = leg_idx          (0-3)
#     thigh_idx = leg_idx + 4    (4-7)
#     calf_idx = leg_idx + 8     (8-11)

# Control parameters
control:
  mode: position
  kp: 20.0
  kd: 0.5
  max_linear_vel: 1.0   # m/s
  max_angular_vel: 2.0  # rad/s

# Gravity compensation for pure kinematic control (game-style)
# 1.0 = full compensation (robot won't fall, pure kinematic, no physics)
# 0.0 = no compensation (full physics, may fall)
gravity_compensation: 1.0
